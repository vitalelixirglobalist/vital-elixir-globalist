<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Products ‚Äì Vital Elixir Globalist</title>
  <meta name="description" content="Explore genuine medicines by category ‚Äì Tablets, Creams, Drops, Sprays, and Injections." />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: { colors: { brand: '#0284c7' } }
      }
    }
  </script>
</head>

<body class="text-gray-800 bg-gray-50">
  <!-- Header -->
  <header class="bg-white shadow sticky top-0 z-50">
    <div class="max-w-6xl mx-auto flex justify-between items-center px-4 py-3">
      <div class="text-2xl font-bold text-brand">Vital Elixir Globalist</div>
      <nav class="hidden md:flex gap-6 text-sm font-medium">
        <a href="index.html" class="hover:text-brand">Home</a>
        <a href="products.html" class="text-brand font-semibold">Products</a>
        <a href="cart.html" class="hover:text-brand">Cart</a>
        <a href="index.html#contact" class="hover:text-brand">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Page Title -->
  <section class="text-center py-10 bg-gradient-to-b from-blue-50 to-white">
    <h1 class="text-4xl font-extrabold text-gray-900">Our Medicines</h1>
    <p class="text-gray-600 mt-2">Explore by category and add to your cart for quick checkout</p>
  </section>

  <!-- Search & Category Filter -->
  <div class="max-w-6xl mx-auto px-4 mb-8 flex flex-col md:flex-row md:justify-between md:items-center gap-4">
    <input
      id="searchBar"
      type="text"
      placeholder="Search medicines..."
      class="w-full md:w-1/2 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"
    />
    <select
      id="categoryFilter"
      class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand"
    >
      <option value="all">All Categories</option>
      <option value="Tablets & Capsules">Tablets & Capsules</option>
      <option value="Creams & Ointments">Creams & Ointments</option>
      <option value="Drops">Drops</option>
      <option value="Sprays">Sprays</option>
      <option value="Injections & Vials">Injections & Vials</option>
    </select>
  </div>

  <!-- Product Grid -->
  <div id="productGrid" class="max-w-6xl mx-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 px-4 pb-16"></div>

  <!-- Footer -->
  <footer class="py-8 bg-white border-t text-center text-gray-600 text-sm">
    ¬© <span id="year"></span> Vital Elixir Globalist. All rights reserved.
  </footer>

  <!-- Script -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const productGrid = document.getElementById('productGrid');
    const searchBar = document.getElementById('searchBar');
    const categoryFilter = document.getElementById('categoryFilter');
    let allProducts = [];

    // Load Products
    async function loadProducts() {
      try {
        const res = await fetch('./products-data.json');
        allProducts = await res.json();
        displayProducts(allProducts);
      } catch (err) {
        console.error('Error loading product data:', err);
        productGrid.innerHTML = `<p class='text-red-600 col-span-full text-center'>‚ö†Ô∏è Unable to load products. Please check your JSON file.</p>`;
      }
    }

    // Display Products
    function displayProducts(products) {
      productGrid.innerHTML = '';
      if (products.length === 0) {
        productGrid.innerHTML = `<p class='text-gray-500 text-center col-span-full'>No products found.</p>`;
        return;
      }

      products.forEach((p) => {
        const card = document.createElement('div');
        card.className = 'bg-white border rounded-xl p-4 shadow-sm hover:shadow-lg transition flex flex-col';
        card.innerHTML = `
          <img src="${p.image}" alt="${p.name}" class="w-full h-40 object-cover rounded-lg mb-4">
          <h3 class="font-semibold text-lg">${p.name}</h3>
          <p class="text-sm text-gray-600">${p.composition}</p>
          <p class="text-xs text-gray-500">${p.use}</p>
          <div class="mt-2 text-sm font-medium text-gray-800">
            üíµ Export: $${p.usd} USD<br>
            üáÆüá≥ Domestic: ‚Çπ${p.inr} INR
          </div>
          <button class="mt-4 bg-brand text-white px-4 py-2 rounded-lg hover:bg-sky-700 w-full">Add to Cart</button>
        `;
        productGrid.appendChild(card);
      });
    }

    // Filter Function
    function filterProducts() {
      const query = searchBar.value.toLowerCase();
      const category = categoryFilter.value;
      const filtered = allProducts.filter((p) => {
        const matchesSearch =
          p.name.toLowerCase().includes(query) ||
          p.composition.toLowerCase().includes(query);
        const matchesCategory = category === 'all' || p.category === category;
        return matchesSearch && matchesCategory;
      });
      displayProducts(filtered);
    }

    // Event Listeners
    searchBar.addEventListener('input', filterProducts);
    categoryFilter.addEventListener('change', filterProducts);

    // Initialize
    loadProducts();
  </script>
</body>
</html>
